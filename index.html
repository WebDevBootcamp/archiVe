<!doctype html>

<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>

  

  <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    
    <title>Archive</title>
    <meta name="description" content="Archive">
  

  <script src="https://code.jquery.com/jquery-2.1.4.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
  <script src="js/render_books.js"></script>
  <script src="js/drag_drop.js"></script>
  <script src="js/local_storage.js"></script>


  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>



<!-- Optional theme -->
<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css"> -->


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

<!-- custom style sheets -->

<link rel="stylesheet" href="css/style.css">

</head>


<body>
<!-- script testing -->
<script type="text/javascript">
    $(document).ready(function() {
        $('body').css('background-image', 'url(img/logo.svg)');
        $('body').css('background-size', '50%');
    });
</script>

<!-- end script testing -->


<!-- start Container for header -->
<div class="container">
  <header class="header center-block" id="searchBar">
    
    <!-- start Search Bar-->
        <div class="col-xs-12 col-sm-12 col-md-12 center-block">
        <form id="search"> 
        <div class="input-group input-group-lg">
            <span class="input-group-addon logo"><img src="img/logo_sm.svg" alt="logo"></span>
            <input id="subject" class="form-control" placeholder="Search" aria-hidden="true">

            <div class="input-group-btn">
                <button type="submit" class="btn btn-default" id="go" ><span class="input-group-addon glyphicon glyphicon-search"></span> </button>

        </div>
      </div>
            </form>
        </div>
      <!-- end Search bar -->
  </header>
  <!-- end Header -->
</div>
<!-- end Container -->

<!-- start results / bin / etc -->
    <div class = "container" id="collectionBin">

        <script>
            $('#search').on("submit",function(e) {
                console.log(e);
                e.preventDefault();
                $('body').css('background-image','none');
                $("#subject").empty();
                var s = $("#subject").val();
                $.getJSON("https://www.googleapis.com/books/v1/volumes",{q:s})
                        .done(
                        function(data) {
                            console.log(data);
                           // var results = data;
                            //handleResponse(results);
                            data.items.forEach(function(book){
                                render(book, $('.bin'));
                            })
                            console.log("results");
                        }
                );
            });
        </script>

        <div class="bin">
          <script>
           var cache = {};                                   //cache is available everywhere
           var render = function(book, bin) {
           var id = book.id;
           cache[id] = book;
           var html =
           '<div class="col-xs-12 col-sm-6 col-md-3 tile clearfix">' +
           '<a href="#" class="thumbnail">' +
               '<img src="'+book.volumeInfo.imageLinks.thumbnail+'" alt="...">' +
               '<p class="text-center title"><strong>' +book.volumeInfo.title + '</strong></p><br>' +
               '<p class="text-center authors">' + book.volumeInfo.authors[0] + '</p>' +
               '</a>' +
           '</div>';

           $(html).data("id", id).appendTo(bin);

           }

          </script>
        </div>
        <!-- end bin --> 
    </div>
    <!-- end Container -->


        

        <!-- start Footer -->

  <div class="container">
    <div class="clearfix">
      <footer class="navbar-fixed-bottom">

      <!-- collection categories -->
        <div class="container">

          <div class="row">
            <button type="button" class="btn btn-danger col-xs-3 col-sm-3 col-md-3"><div class="collectionIcon"><img src="img/keeper_wh.svg" alt="keeper icon"></div><p class="collectionText">Keeper</p></button>
            <button type="button" class="btn btn-primary col-xs-3 col-sm-3 col-md-3"><div class="collectionIcon"><img src="img/surfing_wh.svg" alt="surfing icon"></div><p class="collectionText">Surfing</p></button>
            <button type="button" class="btn btn-warning col-xs-3 col-sm-3 col-md-3"><div class="collectionIcon"><img src="img/gonna_wh2.svg" alt="gonna icon"></div><p class="collectionText">Gonna</p></button>
            <button type="button" class="btn btn-success col-xs-3 col-sm-3 col-md-3"><div class="collectionIcon"><img src="img/maybe_wh.svg" alt="maybe icon"></div><p class="collectionText">Maybe</p></button>
          </div>
       
        </div>
        
      </footer>
    </div>
  </div>
<!-- closed footer container -->

<!-- closed global container -->


</div>
</body>


</html>

